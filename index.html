<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<th>Coluna 12222222222 <span>&uarr;</span></th>
			<th>Coluna 2 <span>&uarr;</span></th>
			<th>Coluna 3 <span>&uarr;</span></th>
			<th>Coluna 4 <span>&uarr;</span></th>
			<th>Coluna 5 <span>&uarr;</span></th>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<script>
		window.onload = function () { // After page loads
			Array.from(document.getElementsByTagName("th")).forEach((element, index) => { // Table headers
				element.addEventListener("click", function (event) {
					let table = this.closest("table");

					let order_icon = this.getElementsByTagName("span")[0];
					let order 	   = (encodeURI(order_icon.innerHTML).includes("%E2%86%91") ? "desc" : "asc");

					let value_list = {}; // <tr> Object
					let obj_key    = []; // Values of selected column

					let string_count = 0;
					let number_count = 0;

					table.querySelectorAll("tbody tr").forEach((linha) => { // <tbody> rows
						let key = linha.children[element.cellIndex].innerHTML.toUpperCase();
						key.match(/^[0-9,.]*$/g) ? number_count++ : string_count++; // Check if value is numeric or string

						value_list[key] = linha.outerHTML; // Adding <tr> to object
						obj_key.push(key);
					});

					if (number_count > 0 && string_count <= 0) { // If all values are numeric
						obj_key.sort(function(a, b) {
							return a - b;
						});
					}
					else {
						obj_key.sort();
					}

					if (order == "desc"){
						obj_key.reverse();
						order_icon.innerHTML = "&darr;";
					}
					else {
						order_icon.innerHTML = "&uarr;";
					}

					let html = "";
					obj_key.forEach(function (chave) {
						html += value_list[chave];
					});
					table.getElementsByTagName("tbody")[0].innerHTML = html;
				});
			});
		}
	</script>
</body>
</html>
