<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="js/jquery.min.js"></script>
	<script src="js/teste.js"></script>
</head>
<body>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<tr>
				<th>Coluna 1 <span>&uarr;</span></th>
				<th>Coluna 2 <span>&uarr;</span></th>
				<th>Coluna 3 <span>&uarr;</span></th>
				<th>Coluna 4 <span>&uarr;</span></th>
				<th>Coluna 5 <span>&uarr;</span></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<br>
	<table>
		<thead>
			<th>Coluna 12222222222 <span>&uarr;</span></th>
			<th>Coluna 2 <span>&uarr;</span></th>
			<th>Coluna 3 <span>&uarr;</span></th>
			<th>Coluna 4 <span>&uarr;</span></th>
			<th>Coluna 5 <span>&uarr;</span></th>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Nome do produto 22</td>
				<td>ABCASD</td>
				<td>22DDS</td>
				<td>454645</td>
			</tr>
			<tr>
				<td>99</td>
				<td>Nome do produto 12</td>
				<td>AACASD</td>
				<td>22DDS</td>
				<td>354645</td>
			</tr>
			<tr>
				<td>300</td>
				<td>Nome do produto 22</td>
				<td>AcCASD</td>
				<td>32DDS</td>
				<td>554649</td>
			</tr>
			<tr>
				<td>400</td>
				<td>Nomde do produto 22</td>
				<td>AcdCASD</td>
				<td>3d2DDS</td>
				<td>554645</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Nome do produto 1</td>
				<td>cCASD</td>
				<td>DDS</td>
				<td>4645</td>
			</tr>
		</tbody>
	</table>
	<script>
		window.onload = function () { // Ao carregar a página
			Array.from(document.getElementsByTagName("th")).forEach((element, index) => { // Cabeçalhos da tabela
				element.addEventListener("click", function (event) {
					let tabela_ordenacao = this.closest("table");

					let icone_ordenacao = this.getElementsByTagName("span")[0];
					let ordenacao 		= (encodeURI(icone_ordenacao.innerHTML).includes("%E2%86%91") ? "desc" : "asc");

					let lista_valores = {}; // Objeto de linhas da tabela
					let chave_objeto  = []; // Array de valores para ordenar

					let tipo_string = 0;
					let tipo_numero = 0;

					tabela_ordenacao.querySelectorAll("tbody tr").forEach((linha) => { // Linhas do corpo da tabela
						let chave = linha.children[element.cellIndex].innerHTML.toUpperCase();
						chave.match(/^[0-9,.]*$/g) ? tipo_numero++ : tipo_string++;

						lista_valores[chave] = linha.outerHTML; // Adicionamos as linhas da tabela a um objeto
						chave_objeto.push(chave); // Salvamos um array com as chaves (itens a ordenar)
					});

					if (tipo_numero > 0 && tipo_string <= 0) { // Caso não haja nenhuma string, ordenamos numericamente
						chave_objeto.sort(function(a, b) {
							return a - b;
						});
					}
					else {
						chave_objeto.sort();
					}

					if (ordenacao == "desc"){
						chave_objeto.reverse();
						icone_ordenacao.innerHTML = "&darr;";
					}
					else {
						icone_ordenacao.innerHTML = "&uarr;";
					}

					let html = "";
					chave_objeto.forEach(function (chave) {
						html += lista_valores[chave];
					});
					tabela_ordenacao.getElementsByTagName("tbody")[0].innerHTML = html;
				});
			});
		}
	</script>
</body>
</html>